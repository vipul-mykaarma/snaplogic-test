[{"link_serial":106,"update_time":"2017-10-31T09:23:26.363000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","instance_id":"8e297b13-1e7a-48cf-82d4-e1767b0d12c5","update_user_id":"vipul.khullar@mykaarma.com","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"596e6336a920661076021b92","path_id":"/myKaarmaDev/projects/loaner","create_time":"2017-10-31T08:19:52.571000+00:00","snode_id":"59f83228bf2a21181cca9eca","snap_map":{"1b2fc299-aa4e-424a-a93c-86c970d2fc7f":{"instance_version":2,"class_id":"com-snaplogic-snaps-flow-router","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-flow-router_2-snapsmrc414","instance_id":"1b2fc299-aa4e-424a-a93c-86c970d2fc7f","property_map":{"info":{"notes":{"value":null},"label":{"value":"Router"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"routes":{"value":[{"expression":{"expression":true,"value":"$result.hasOwnProperty(\"ErrorMessage\")"},"outputViewName":{"value":"output1"}},{"expression":{"expression":true,"value":"!$result.hasOwnProperty(\"ErrorMessage\")"},"outputViewName":{"value":"output0"}}]},"persistence":{"value":"No Cache"},"firstMatch":{"value":true}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}},"output1":{"view_type":{"value":"document"},"label":{"value":"output1"}}}},"class_version":2,"instance_fqid":"1b2fc299-aa4e-424a-a93c-86c970d2fc7f_2"},"6d0b712e-2ca5-430f-aa3c-d9802bea4e10":{"instance_id":"6d0b712e-2ca5-430f-aa3c-d9802bea4e10","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Response Mapper"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$['soap:Body'].BDC_AddResResponse.BDC_AddResResult"},"targetPath":{"value":"$result"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"6d0b712e-2ca5-430f-aa3c-d9802bea4e10_2"},"67f93a1b-052a-495b-b252-5a92bc5f9188":{"instance_id":"67f93a1b-052a-495b-b252-5a92bc5f9188","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"SUCESS Mapper"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":null},"targetPath":{"value":null}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4,"instance_fqid":"67f93a1b-052a-495b-b252-5a92bc5f9188_1"},"beae5bbb-bca6-402a-b2b0-a7bb8922a2ff":{"instance_version":2,"class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_id":"beae5bbb-bca6-402a-b2b0-a7bb8922a2ff","property_map":{"info":{"notes":{"value":null},"label":{"value":"Mapper1"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$CustomerID"},"expression":{"expression":true,"value":"37631366"}},{"targetPath":{"value":"$StartDate"},"expression":{"expression":true,"value":"\"2017-11-01T00:00:00\""}},{"targetPath":{"value":"$EndDate"},"expression":{"expression":true,"value":"\"2017-11-02T00:00:00\""}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4,"instance_fqid":"beae5bbb-bca6-402a-b2b0-a7bb8922a2ff_2"},"bb8c2bd1-7c2b-4a78-b36c-606692ea1962":{"instance_id":"bb8c2bd1-7c2b-4a78-b36c-606692ea1962","class_id":"com-snaplogic-snaps-soap-soapexecute","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-soap-soapexecute_1-snapsmrc414","instance_version":7,"property_map":{"info":{"notes":{"value":null},"label":{"value":"SOAP Execute"}},"view_serial":100,"account":{"account_ref":{"expression":false,"value":{}}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"sslProtocol":{"value":null},"attachments":{"value":[]},"removeIllegalChars":{"value":false},"editable_content":{"value":"<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns0=\"http://tsd-inc.com/LoanerWebService/ProcessRes\" xmlns:ns1=\"http://tsd-inc.com/Reservation.xsd\"><SOAP-ENV:Header/><SOAP-ENV:Body><ns0:BDC_AddRes><ns1:Res><ns1:SenderID>MyKar</ns1:SenderID><ns1:CenterID>98017</ns1:CenterID><ns1:Customer><ns1:FirstName>$FirstName</ns1:FirstName><ns1:LastName>$LastName</ns1:LastName><ns1:DriversLicenseNumber></ns1:DriversLicenseNumber><ns1:DriversLicenseExpirationDate></ns1:DriversLicenseExpirationDate><ns1:DateOfBirth></ns1:DateOfBirth></ns1:Customer><ns1:HomeAddress><ns1:Street1>$Line1</ns1:Street1><ns1:Street2>$Line2</ns1:Street2><ns1:City>$City</ns1:City><ns1:State>$State</ns1:State><ns1:Zip>$ZipCode</ns1:Zip><ns1:Country>$Country</ns1:Country></ns1:HomeAddress><ns1:HomePhone><ns1:AreaCode></ns1:AreaCode><ns1:Exchange></ns1:Exchange><ns1:Number></ns1:Number></ns1:HomePhone><ns1:WorkPhone><ns1:AreaCode></ns1:AreaCode><ns1:Exchange></ns1:Exchange><ns1:Number></ns1:Number></ns1:WorkPhone><ns1:CellPhone><ns1:AreaCode></ns1:AreaCode><ns1:Exchange></ns1:Exchange><ns1:Number></ns1:Number></ns1:CellPhone><ns1:EmailAddress>$personalEmail</ns1:EmailAddress><ns1:DMSCustID>$CustomerKey</ns1:DMSCustID><ns1:StartDate>$original.StartDate</ns1:StartDate><ns1:EndDate>$original.EndDate</ns1:EndDate><ns1:RepairOrderNumber></ns1:RepairOrderNumber><ns1:CustomerVIN></ns1:CustomerVIN><ns1:ServiceAdvisorDMSID></ns1:ServiceAdvisorDMSID></ns1:Res></ns0:BDC_AddRes></SOAP-ENV:Body></SOAP-ENV:Envelope>"},"header":{"value":[]},"standardizeErrorOutput":{"value":false},"operation":{"expression":false,"value":"{http://tsd-inc.com/LoanerWebService/ProcessRes}BDC_AddRes"},"httpHeaders":{"value":false},"wsdl_url":{"expression":false,"value":"https://tsdbdcservice.tsd-inc.com/ProcessRes.asmx?wsdl"},"defaultValue":{"value":null},"encodeAttribute":{"value":false},"wsAddressing":{"value":false},"importDocuments":{"value":true},"serviceName":{"expression":false,"value":"{http://tsd-inc.com/LoanerWebService/ProcessRes}ProcessRes"},"successCondition":{"expression":true,"value":null},"retryInterval":{"value":2},"trustAllCerts":{"value":false},"transferType":{"value":"Calculate content length"},"executable_during_suggest":{"value":true},"useDefaultValue":{"value":false},"portName":{"expression":false,"value":"{http://tsd-inc.com/LoanerWebService/ProcessRes}ProcessResSoap"},"nullResponse":{"value":"Output no documents"},"outputEnvelope":{"value":false},"maxRequests":{"value":3},"enableMTOM":{"value":false},"timeout":{"value":0}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"continue"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1,"instance_fqid":"bb8c2bd1-7c2b-4a78-b36c-606692ea1962_7"},"b2d3bc39-bc8f-445e-ad2a-abf0b1128cd9":{"instance_id":"b2d3bc39-bc8f-445e-ad2a-abf0b1128cd9","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"ERROR Mapper"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":null},"expression":{"expression":true,"value":null}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"b2d3bc39-bc8f-445e-ad2a-abf0b1128cd9_1"},"1c8e0166-122c-44ba-b578-470ae615fd9f":{"instance_version":7,"class_id":"com-snaplogic-snaps-mysql-execute","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-mysql-execute_1-snapsmrc414","instance_id":"1c8e0166-122c-44ba-b578-470ae615fd9f","property_map":{"info":{"notes":{"value":null},"label":{"value":"MySQL - Execute"}},"view_serial":102,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"myKaarmaDB"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"expression":false,"value":"e36ac23e-b0b7-4135-8707-43622c625bfe"}}}},"settings":{"autoCommit":{"value":"Use account setting"},"passThrough":{"value":true},"ignoreEmptyResult":{"value":true},"executable_during_suggest":{"value":true},"sqlStatement":{"expression":false,"value":"SELECT \n    c.ID AS CustomerID,\n    c.FirstName,\n    c.LastName,\n    c.MiddleName,\n    COALESCE(c.CustomerKey, '') AS CustomerKey,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'cell'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS CellPhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'home'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS HomePhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'work'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS WorkPhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'other'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS OtherPhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'personal'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'E'\n        ORDER BY ID DESC\n        LIMIT 1) AS personalEmail,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'work'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'E'\n        ORDER BY ID DESC\n        LIMIT 1) AS workEmail,\n    (SELECT \n            Line1\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS Line1,\n    (SELECT \n            Line2\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS Line2,\n    (SELECT \n            City\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS City,\n    (SELECT \n            Zip\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS ZipCode,\n    (SELECT \n            StateCode\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS StateCode,\n    (SELECT \n            Country\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS Country\nFROM\n    Customer c\nWHERE\n    c.ID =$CustomerID"}},"output":{"output101":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input102":{"label":{"value":"input0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"1c8e0166-122c-44ba-b578-470ae615fd9f_7"}},"org_snode_id":"596e6336a920661076021b8b","path":"/myKaarmaDev/projects/loaner/addReservation","instance_version":22,"migrate_version":"mrc308","scrub_backup":[],"create_user_id":"vipul.khullar@mykaarma.com","project_snode_id":"59f825d1f952e953a80e9cfd","property_map":{"info":{"notes":{"value":null},"label":{"value":"addReservation"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"author":{"value":"vipul.khullar@mykaarma.com"}},"input":{"beae5bbb-bca6-402a-b2b0-a7bb8922a2ff_input0":{"label":{"value":"Mapper1 - input0"},"view_type":{"value":"document"}}},"settings":{"param_table":{"value":[]},"imports":{"value":[]}},"instance_version":21,"error":{"error_behavior":{"value":"none"},"bb8c2bd1-7c2b-4a78-b36c-606692ea1962_error0":{"label":{"value":"SOAP Execute - error0"},"view_type":{"value":"document"}}},"output":{"b2d3bc39-bc8f-445e-ad2a-abf0b1128cd9_output0":{"label":{"value":"ERROR Mapper - output0"},"view_type":{"value":"document"}},"67f93a1b-052a-495b-b252-5a92bc5f9188_output0":{"view_type":{"value":"document"},"label":{"value":"SUCESS Mapper - output0"}}}},"render_map":{"pan_x_num":0,"default_snaplex":"596e633917f60c25f4520e6b","scale_ratio":1,"detail_map":{"1b2fc299-aa4e-424a-a93c-86c970d2fc7f":{"grid_x_int":5,"rot_int":0,"grid_y_int":2,"rot_tail_int":0,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}}},"6d0b712e-2ca5-430f-aa3c-d9802bea4e10":{"grid_x_int":4,"rot_int":0,"grid_y_int":2,"rot_tail_int":0},"67f93a1b-052a-495b-b252-5a92bc5f9188":{"grid_x_int":6,"grid_y_int":2,"rot_tail_int":0,"output":{},"input":{},"rot_int":0},"beae5bbb-bca6-402a-b2b0-a7bb8922a2ff":{"grid_x_int":1,"rot_int":0,"grid_y_int":2,"rot_tail_int":0},"bb8c2bd1-7c2b-4a78-b36c-606692ea1962":{"grid_x_int":3,"rot_int":0,"grid_y_int":2,"rot_tail_int":0,"error":{"error0":{"dx_int":0,"rot_int":0,"dy_int":-1}}},"b2d3bc39-bc8f-445e-ad2a-abf0b1128cd9":{"grid_x_int":6,"grid_y_int":3,"rot_tail_int":0,"output":{},"input":{},"rot_int":0},"1c8e0166-122c-44ba-b578-470ae615fd9f":{"grid_x_int":2,"rot_int":0,"grid_y_int":2,"rot_tail_int":0}},"pan_y_num":0},"org_id":"596e6336a920661076021b8b","class_version":8,"class_id":"com-snaplogic-pipeline","instance_fqid":"8e297b13-1e7a-48cf-82d4-e1767b0d12c5_22","link_map":{"link104":{"src_view_id":"output0","dst_view_id":"input0","src_id":"1b2fc299-aa4e-424a-a93c-86c970d2fc7f","dst_id":"67f93a1b-052a-495b-b252-5a92bc5f9188"},"link105":{"src_view_id":"output1","dst_view_id":"input0","src_id":"1b2fc299-aa4e-424a-a93c-86c970d2fc7f","dst_id":"b2d3bc39-bc8f-445e-ad2a-abf0b1128cd9"},"link102":{"src_view_id":"output0","dst_view_id":"input102","src_id":"beae5bbb-bca6-402a-b2b0-a7bb8922a2ff","dst_id":"1c8e0166-122c-44ba-b578-470ae615fd9f"},"link103":{"src_view_id":"output0","dst_view_id":"input0","src_id":"6d0b712e-2ca5-430f-aa3c-d9802bea4e10","dst_id":"1b2fc299-aa4e-424a-a93c-86c970d2fc7f"},"link100":{"src_view_id":"output101","dst_view_id":"input0","src_id":"1c8e0166-122c-44ba-b578-470ae615fd9f","dst_id":"bb8c2bd1-7c2b-4a78-b36c-606692ea1962"},"link101":{"src_view_id":"output0","dst_view_id":"input0","src_id":"bb8c2bd1-7c2b-4a78-b36c-606692ea1962","dst_id":"6d0b712e-2ca5-430f-aa3c-d9802bea4e10"}}}]