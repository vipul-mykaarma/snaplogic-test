[{"link_serial":106,"update_time":"2017-11-01T06:18:24.051000+00:00","phase_snode_id":null,"scrub_version":"48f99abcdf450e7c49a04015355fb699f785e8cbf8288d894686a64c6caeddd1","instance_id":"1f05ae63-7f60-4914-9b8d-1249fa422d00","update_user_id":"vipul.khullar@mykaarma.com","class_fqid":"com-snaplogic-pipeline_8","partition_snode_id":"596e6336a920661076021b92","path_id":"/myKaarmaDev/projects/loaner","create_time":"2017-10-31T09:25:59.246000+00:00","snode_id":"59f841a717f60c581fb927fd","snap_map":{"900a1be5-1db0-46f3-94f0-abb71628f04f":{"instance_id":"900a1be5-1db0-46f3-94f0-abb71628f04f","class_id":"com-snaplogic-snaps-soap-soapexecute","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-soap-soapexecute_1-snapsmrc414","instance_version":4,"property_map":{"info":{"notes":{"value":null},"label":{"value":"SOAP Execute"}},"view_serial":100,"account":{"account_ref":{"expression":false,"value":{}}},"settings":{"sslProtocol":{"value":null},"attachments":{"value":[]},"removeIllegalChars":{"value":false},"editable_content":{"value":"<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns0=\"http://tsd-inc.com/LoanerWebService/ProcessRes\" xmlns:ns1=\"http://tsd-inc.com/Reservation.xsd\"><SOAP-ENV:Header/><SOAP-ENV:Body><ns0:BDC_AddRes><ns1:Res><ns1:SenderID>MyKar</ns1:SenderID><ns1:CenterID>98017</ns1:CenterID><ns1:ConfirmationNumber>$CustomerKey</ns1:ConfirmationNumber><ns1:Customer><ns1:FirstName>$FirstName</ns1:FirstName><ns1:LastName>$LastName</ns1:LastName><ns1:DriversLicenseNumber></ns1:DriversLicenseNumber><ns1:DriversLicenseExpirationDate></ns1:DriversLicenseExpirationDate><ns1:DateOfBirth></ns1:DateOfBirth></ns1:Customer><ns1:HomeAddress><ns1:Street1>$Line1</ns1:Street1><ns1:Street2>$Line2</ns1:Street2><ns1:City>$City</ns1:City><ns1:State>$State</ns1:State><ns1:Zip>$ZipCode</ns1:Zip><ns1:Country>$Country</ns1:Country></ns1:HomeAddress><ns1:HomePhone><ns1:AreaCode></ns1:AreaCode><ns1:Exchange></ns1:Exchange><ns1:Number></ns1:Number></ns1:HomePhone><ns1:WorkPhone><ns1:AreaCode></ns1:AreaCode><ns1:Exchange></ns1:Exchange><ns1:Number></ns1:Number></ns1:WorkPhone><ns1:CellPhone><ns1:AreaCode></ns1:AreaCode><ns1:Exchange></ns1:Exchange><ns1:Number></ns1:Number></ns1:CellPhone><ns1:EmailAddress>$personalEmail</ns1:EmailAddress><ns1:DMSCustID>$CustomerKey</ns1:DMSCustID><ns1:StartDate>$original.StartDate</ns1:StartDate><ns1:EndDate>$original.EndDate</ns1:EndDate><ns1:RepairOrderNumber></ns1:RepairOrderNumber><ns1:CustomerVIN></ns1:CustomerVIN><ns1:ServiceAdvisorDMSID></ns1:ServiceAdvisorDMSID></ns1:Res></ns0:BDC_AddRes></SOAP-ENV:Body></SOAP-ENV:Envelope>"},"header":{"value":[]},"standardizeErrorOutput":{"value":false},"operation":{"expression":false,"value":"{http://tsd-inc.com/LoanerWebService/ProcessRes}BDC_UpdateRes"},"httpHeaders":{"value":false},"importDocuments":{"value":true},"defaultValue":{"value":null},"encodeAttribute":{"value":false},"wsAddressing":{"value":false},"wsdl_url":{"expression":false,"value":"https://tsdbdcservice.tsd-inc.com/ProcessRes.asmx?wsdl"},"serviceName":{"expression":false,"value":"{http://tsd-inc.com/LoanerWebService/ProcessRes}ProcessRes"},"successCondition":{"expression":true,"value":null},"retryInterval":{"value":2},"trustAllCerts":{"value":false},"transferType":{"value":"Calculate content length"},"executable_during_suggest":{"value":true},"useDefaultValue":{"value":false},"portName":{"expression":false,"value":"{http://tsd-inc.com/LoanerWebService/ProcessRes}ProcessResSoap"},"nullResponse":{"value":"Output no documents"},"outputEnvelope":{"value":false},"maxRequests":{"value":3},"enableMTOM":{"value":false},"timeout":{"value":0}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"continue"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"900a1be5-1db0-46f3-94f0-abb71628f04f_4"},"1d5c238b-fbce-4c58-8fdd-1b8507f3200a":{"instance_id":"1d5c238b-fbce-4c58-8fdd-1b8507f3200a","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"SUCESS Mapper"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":null},"targetPath":{"value":null}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4,"instance_fqid":"1d5c238b-fbce-4c58-8fdd-1b8507f3200a_1"},"656c2148-ee7c-4760-a8b4-11ee93e87d15":{"instance_version":1,"class_id":"com-snaplogic-snaps-flow-router","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-flow-router_2-snapsmrc414","instance_id":"656c2148-ee7c-4760-a8b4-11ee93e87d15","property_map":{"info":{"notes":{"value":null},"label":{"value":"Router"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"routes":{"value":[{"expression":{"expression":true,"value":"$result.hasOwnProperty(\"ErrorMessage\")"},"outputViewName":{"value":"output1"}},{"expression":{"expression":true,"value":"!$result.hasOwnProperty(\"ErrorMessage\")"},"outputViewName":{"value":"output0"}}]},"persistence":{"value":"No Cache"},"firstMatch":{"value":true}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}},"output1":{"view_type":{"value":"document"},"label":{"value":"output1"}}}},"class_version":2,"instance_fqid":"656c2148-ee7c-4760-a8b4-11ee93e87d15_1"},"345855aa-b1e8-4b89-93cf-f9716117ec6f":{"instance_id":"345855aa-b1e8-4b89-93cf-f9716117ec6f","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Response Mapper"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$['soap:Body'].BDC_AddResResponse.BDC_AddResResult"},"targetPath":{"value":"$result"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"345855aa-b1e8-4b89-93cf-f9716117ec6f_1"},"0bd06d79-d705-4004-b65a-32b8eb3f16d7":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_id":"0bd06d79-d705-4004-b65a-32b8eb3f16d7","property_map":{"info":{"notes":{"value":null},"label":{"value":"Mapper1"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$CustomerID"},"expression":{"expression":true,"value":"37631366"}},{"targetPath":{"value":"$StartDate"},"expression":{"expression":true,"value":"\"2017-11-01T00:00:00\""}},{"targetPath":{"value":"$EndDate"},"expression":{"expression":true,"value":"\"2017-11-02T00:00:00\""}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4,"instance_fqid":"0bd06d79-d705-4004-b65a-32b8eb3f16d7_1"},"123d1433-6c2d-417d-8b66-41558d3a349e":{"instance_id":"123d1433-6c2d-417d-8b66-41558d3a349e","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc414","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"ERROR Mapper"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":null},"expression":{"expression":true,"value":null}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"123d1433-6c2d-417d-8b66-41558d3a349e_1"},"302e7d67-63ef-4d69-87fb-31f0892b2b32":{"instance_version":2,"class_id":"com-snaplogic-snaps-mysql-execute","class_build_tag":"snapsmrc414","class_fqid":"com-snaplogic-snaps-mysql-execute_1-snapsmrc414","instance_id":"302e7d67-63ef-4d69-87fb-31f0892b2b32","property_map":{"info":{"notes":{"value":null},"label":{"value":"Customer fetch"}},"view_serial":102,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"myKaarmaDB"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-mysqldatabaseaccount"},"ref_id":{"expression":false,"value":"e36ac23e-b0b7-4135-8707-43622c625bfe"}}}},"input":{"input102":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"autoCommit":{"value":"Use account setting"},"passThrough":{"value":true},"ignoreEmptyResult":{"value":true},"executable_during_suggest":{"value":true},"sqlStatement":{"expression":false,"value":"SELECT \n    c.ID AS CustomerID,\n    c.FirstName,\n    c.LastName,\n    c.MiddleName,\n    COALESCE(c.CustomerKey, '') AS CustomerKey,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'cell'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS CellPhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'home'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS HomePhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'work'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS WorkPhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'other'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'P'\n        ORDER BY ID DESC\n        LIMIT 1) AS OtherPhone,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'personal'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'E'\n        ORDER BY ID DESC\n        LIMIT 1) AS personalEmail,\n    (SELECT \n            CommunicationValue\n        FROM\n            CustomerCommunication\n        WHERE\n            CustomerID = c.ID AND Label = 'work'\n                AND IsValid = 1\n                AND CommunicationTypeID = 'E'\n        ORDER BY ID DESC\n        LIMIT 1) AS workEmail,\n    (SELECT \n            Line1\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS Line1,\n    (SELECT \n            Line2\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS Line2,\n    (SELECT \n            City\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS City,\n    (SELECT \n            Zip\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS ZipCode,\n    (SELECT \n            StateCode\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS StateCode,\n    (SELECT \n            Country\n        FROM\n            Address\n        WHERE\n            CustomerID = c.ID\n        ORDER BY ID DESC\n        LIMIT 1) AS Country\nFROM\n    Customer c\nWHERE\n    c.ID =$CustomerID"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"302e7d67-63ef-4d69-87fb-31f0892b2b32_2"}},"org_snode_id":"596e6336a920661076021b8b","path":"/myKaarmaDev/projects/loaner/updateReservation","instance_version":8,"migrate_version":"mrc308","scrub_backup":[],"create_user_id":"vipul.khullar@mykaarma.com","project_snode_id":"59f825d1f952e953a80e9cfd","property_map":{"info":{"notes":{"value":null},"author":{"value":"vipul.khullar@mykaarma.com"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"updateReservation"}},"input":{"0bd06d79-d705-4004-b65a-32b8eb3f16d7_input0":{"label":{"value":"Mapper1 - input0"},"view_type":{"value":"document"}}},"settings":{"param_table":{"value":[]},"imports":{"value":[]}},"instance_version":7,"error":{"900a1be5-1db0-46f3-94f0-abb71628f04f_error0":{"view_type":{"value":"document"},"label":{"value":"SOAP Execute - error0"}},"error_behavior":{"value":"none"}},"output":{"123d1433-6c2d-417d-8b66-41558d3a349e_output0":{"view_type":{"value":"document"},"label":{"value":"ERROR Mapper - output0"}},"1d5c238b-fbce-4c58-8fdd-1b8507f3200a_output0":{"label":{"value":"SUCESS Mapper - output0"},"view_type":{"value":"document"}}}},"render_map":{"pan_x_num":0,"default_snaplex":"596e633917f60c25f4520e6b","scale_ratio":1,"detail_map":{"900a1be5-1db0-46f3-94f0-abb71628f04f":{"grid_x_int":3,"rot_int":0,"grid_y_int":2,"rot_tail_int":0,"error":{"error0":{"dx_int":0,"rot_int":0,"dy_int":-1}}},"1d5c238b-fbce-4c58-8fdd-1b8507f3200a":{"grid_x_int":6,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"656c2148-ee7c-4760-a8b4-11ee93e87d15":{"grid_x_int":5,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}},"rot_int":0},"345855aa-b1e8-4b89-93cf-f9716117ec6f":{"grid_x_int":4,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"0bd06d79-d705-4004-b65a-32b8eb3f16d7":{"grid_x_int":1,"error":{},"grid_y_int":2,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"123d1433-6c2d-417d-8b66-41558d3a349e":{"grid_x_int":6,"error":{},"grid_y_int":3,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"302e7d67-63ef-4d69-87fb-31f0892b2b32":{"grid_x_int":2,"rot_int":0,"grid_y_int":2,"rot_tail_int":0}},"pan_y_num":0},"org_id":"596e6336a920661076021b8b","class_version":8,"class_id":"com-snaplogic-pipeline","instance_fqid":"1f05ae63-7f60-4914-9b8d-1249fa422d00_8","link_map":{"link104":{"src_view_id":"output0","dst_view_id":"input0","src_id":"656c2148-ee7c-4760-a8b4-11ee93e87d15","dst_id":"1d5c238b-fbce-4c58-8fdd-1b8507f3200a"},"link105":{"src_view_id":"output1","dst_view_id":"input0","src_id":"656c2148-ee7c-4760-a8b4-11ee93e87d15","dst_id":"123d1433-6c2d-417d-8b66-41558d3a349e"},"link102":{"src_view_id":"output0","dst_view_id":"input102","src_id":"0bd06d79-d705-4004-b65a-32b8eb3f16d7","dst_id":"302e7d67-63ef-4d69-87fb-31f0892b2b32"},"link103":{"src_view_id":"output0","dst_view_id":"input0","src_id":"345855aa-b1e8-4b89-93cf-f9716117ec6f","dst_id":"656c2148-ee7c-4760-a8b4-11ee93e87d15"},"link100":{"src_view_id":"output101","dst_view_id":"input0","src_id":"302e7d67-63ef-4d69-87fb-31f0892b2b32","dst_id":"900a1be5-1db0-46f3-94f0-abb71628f04f"},"link101":{"src_view_id":"output0","dst_view_id":"input0","src_id":"900a1be5-1db0-46f3-94f0-abb71628f04f","dst_id":"345855aa-b1e8-4b89-93cf-f9716117ec6f"}}}]